{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Button}from'./button/Button';import'../App.css';import Input from'./input/Input';import s from'./Counter.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const Counter=()=>{const[count,setCount]=useState(0);const[startValue,setStartValue]=useState(0);const[maxValue,setMaxValue]=useState(5);const[showSettings,setShowSettings]=useState(false);useEffect(()=>{const savedStartValue=localStorage.getItem('startValue');const savedMaxValue=localStorage.getItem('maxValue');if(savedStartValue&&savedMaxValue){setStartValue(JSON.parse(savedStartValue));setMaxValue(JSON.parse(savedMaxValue));setCount(JSON.parse(savedStartValue));}},[]);useEffect(()=>{localStorage.setItem('startValue',JSON.stringify(startValue));localStorage.setItem('maxValue',JSON.stringify(maxValue));},[startValue,maxValue]);const onClickAddCounter=()=>{setCount(count<maxValue?count+1:count);};const onClickResetCounter=()=>{setCount(startValue<0?0:startValue);};const onChangeStartInputHandler=e=>{setStartValue(+e.currentTarget.value);};const onChangeMaxInputHandler=e=>{setMaxValue(+e.currentTarget.value);};const onClickSettingsHandler=()=>{setShowSettings(!showSettings);setCount(startValue<0?0:startValue);};const disableState=startValue>=maxValue||maxValue<0||startValue<0;return/*#__PURE__*/_jsxs(\"div\",{className:s.main,children:[/*#__PURE__*/_jsx(\"div\",{className:s.mainDisplay,children:showSettings?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Input,{className:maxValue<0||startValue===maxValue?s.inputMistake:'',title:'max value:',stateValue:maxValue,onChange:onChangeMaxInputHandler}),/*#__PURE__*/_jsx(Input,{className:startValue<0||startValue>=maxValue?s.inputMistake:'',title:'start value:',stateValue:startValue,onChange:onChangeStartInputHandler})]}):/*#__PURE__*/_jsx(\"span\",{className:count===maxValue?s.redSpan:'',children:count})}),/*#__PURE__*/_jsx(\"div\",{className:s.buttons,children:showSettings?/*#__PURE__*/_jsx(Button,{title:'set',btnClick:onClickSettingsHandler,disabled:disableState}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{title:'inc',btnClick:onClickAddCounter,disabled:count===maxValue}),/*#__PURE__*/_jsx(Button,{title:'reset',btnClick:onClickResetCounter,disabled:startValue===count}),/*#__PURE__*/_jsx(Button,{title:'set',btnClick:onClickSettingsHandler,disabled:false})]})})]});};","map":{"version":3,"names":["React","useEffect","useState","Button","Input","s","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Counter","count","setCount","startValue","setStartValue","maxValue","setMaxValue","showSettings","setShowSettings","savedStartValue","localStorage","getItem","savedMaxValue","JSON","parse","setItem","stringify","onClickAddCounter","onClickResetCounter","onChangeStartInputHandler","e","currentTarget","value","onChangeMaxInputHandler","onClickSettingsHandler","disableState","className","main","children","mainDisplay","inputMistake","title","stateValue","onChange","redSpan","buttons","btnClick","disabled"],"sources":["/Users/victordenisevich/it-incubator/learn_react/counter/src/componets/Counter.tsx"],"sourcesContent":["import React, {ChangeEvent, useEffect, useState} from 'react';\nimport {Button} from './button/Button';\nimport '../App.css';\nimport Input from './input/Input';\nimport s from './Counter.module.css'\n\nexport const Counter = () => {\n    const [count, setCount] = useState<number>(0)\n    const [startValue, setStartValue] = useState<number>(0)\n    const [maxValue, setMaxValue] = useState<number>(5)\n    const [showSettings, setShowSettings] = useState<boolean>(false)\n\n    useEffect(() => {\n        const savedStartValue = localStorage.getItem('startValue');\n        const savedMaxValue = localStorage.getItem('maxValue');\n\n        if (savedStartValue && savedMaxValue) {\n            setStartValue(JSON.parse(savedStartValue));\n            setMaxValue(JSON.parse(savedMaxValue));\n            setCount(JSON.parse(savedStartValue))\n        }\n    }, []);\n\n    useEffect(() => {\n        localStorage.setItem('startValue', JSON.stringify(startValue));\n        localStorage.setItem('maxValue', JSON.stringify(maxValue));\n    }, [startValue, maxValue]);\n\n    const onClickAddCounter = () => {\n        setCount(count < maxValue ? count + 1 : count);\n    }\n    const onClickResetCounter = () => {\n        setCount(startValue < 0 ? 0 : startValue);\n    }\n    const onChangeStartInputHandler = (e: ChangeEvent<HTMLInputElement>) => {\n        setStartValue(+e.currentTarget.value)\n    }\n\n    const onChangeMaxInputHandler = (e: ChangeEvent<HTMLInputElement>) => {\n        setMaxValue(+e.currentTarget.value)\n    }\n\n    const onClickSettingsHandler = () => {\n        setShowSettings(!showSettings)\n        setCount(startValue < 0 ? 0 : startValue)\n    }\n\n    const disableState = startValue >= maxValue || maxValue < 0 || startValue < 0\n\n\n    return <div className={s.main}>\n        <div className={s.mainDisplay}>\n            {showSettings ? <>\n                    <Input className={maxValue < 0 || startValue === maxValue ? s.inputMistake : ''}\n                           title={'max value:'}\n                           stateValue={maxValue}\n                           onChange={onChangeMaxInputHandler}/>\n\n                    <Input\n                        className={startValue < 0 || startValue >= maxValue ? s.inputMistake : ''}\n                        title={'start value:'}\n                        stateValue={startValue}\n                        onChange={onChangeStartInputHandler}/>\n                </> :\n                <span className={count === maxValue ? s.redSpan : ''}>{count}</span>\n            }\n        </div>\n        <div className={s.buttons}>\n            {showSettings ?\n                <Button title={'set'} btnClick={onClickSettingsHandler} disabled={disableState}/>\n                :\n                <>\n                    <Button title={'inc'} btnClick={onClickAddCounter} disabled={count === maxValue}/>\n                    <Button title={'reset'} btnClick={onClickResetCounter} disabled={startValue === count}/>\n                    <Button title={'set'} btnClick={onClickSettingsHandler} disabled={false}/>\n                </>\n            }\n        </div>\n    </div>\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}